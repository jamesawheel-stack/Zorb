<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Zorbblez</title>
<style>
html,body{margin:0;padding:0;background:#0B0F1F;overflow:hidden}
canvas{display:block;margin:0 auto}
</style>
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/p5@1.9.4/lib/p5.min.js"></script>
<script>
let zorbImg, zorbLoaded=false;
let bubbles=[], countdown=180;

function preload(){
  zorbImg=loadImage('zorb.png?v=2',
    ()=>{zorbLoaded=true;},
    ()=>{zorbLoaded=false;}
  );
}

function setup(){
  createCanvas(window.innerWidth,window.innerHeight);
  for(let i=0;i<50;i++){
    bubbles.push({x:random(width),y:random(height*0.4,height-60),r:40,alive:true});
  }
}

function draw(){
  background('#0B0F1F');

  if(countdown>0){
    fill(0,150);rect(0,0,width,height);
    fill(255);textAlign(CENTER,CENTER);textSize(50);
    text(ceil(countdown/60),width/2,height/2);
    countdown--;
  }else{
    if(frameCount%30==0){
      let alive=bubbles.filter(b=>b.alive);
      if(alive.length>1){
        let pick=random(alive);
        pick.alive=false;
      }
    }
  }

  for(let b of bubbles){
    if(!b.alive)continue;
    fill(120,220,255,50);
    stroke(180,240,255);
    circle(b.x,b.y,b.r*2);
  }

  if(zorbLoaded){
    imageMode(CENTER);
    image(zorbImg,width/2,100,250,250);
  }

}
</script>
</body>
</html>
